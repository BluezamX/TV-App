<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>TV App</title>
    <!-- Add some CSS to change client UI -->
    <style>
        body {
            background-color: #232F3E;
            color: #0088DD;
            margin-left: 40px;
        }

        .header {
            height: 10%;
            width: 100%;
        }

        table.menu {
            color: #0088DD;
            font-weight: bold;
            table-layout: fixed;
            text-align: center;
            width: 100%;
        }

        .television {
            background-color: red;
            height: 85%;
            width: 100%;
        }

        .video-player {
            background-color: blue;
            height: 75%;
            width: 100%;
        }

        .video-information {
            background-color: aliceblue;
            height: 25%;
            width: 100%;
        }

        .queue {
            background-color: yellow;
            height: 100%;
            vertical-align: top;
            width: 25%;
        }

        .add-content {

            label,
            button {
                color: #0077CC;
                font-family: Arial, Helvetica, sans-serif;
                font-size: 20px;
            }

            input {
                color: #232F3E;
                font-family: Arial, Helvetica, sans-serif;
                font-size: 20px;
            }
        }

        .footer {
            bottom: 0;
            color: #0088DD;
            height: 5%;
            position: absolute;
            text-align: center;
            width: 100%;
        }

        h1 {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 32px;
            font-size: 8vh;
            text-align: center;
        }

        h2 {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 20px;
            font-size: 4vh;
            text-align: center;
        }
    </style>

    <script>
        // define the callAPI function that takes a first name and last name as parameters
        var callAPI = (user, folderType, Name) => {
            // instantiate a headers object
            var myHeaders = new Headers();
            // add content type header to object
            myHeaders.append("Content-Type", "application/json");
            // using built in JSON utility package turn object to string and store in a variable
            var raw = JSON.stringify({ "TVA": user, "FolderType": folderType, "Name": Name });
            // create a JSON object with parameters for API call and store in a variable
            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                redirect: 'follow'
            };
            // make API call with parameters and use promises to get response
            fetch("https://3jhuxsa1y2.execute-api.ap-northeast-1.amazonaws.com/dev", requestOptions)
                .then(response => response.text())
                .then(result => alert(JSON.parse(result).body))
                .catch(error => console.log('error', error));
        }
    </script>
</head>

<body>
    <div class="header">
        <h1>TV App v0.06</h1>
    </div>
    <table class="menu">
        <tr>
            <td>
                Add Content
            </td>
            <td>
                Watch
            </td>
        </tr>
    </table>

    <table class="television">
        <tr class="video-player">
            <td>
                <iframe src="https://drive.google.com/file/d/1bd_-541GpbXcNpUj0Q70ZDU5XB2K9M7-/preview" width="640"
                    height="480" allow="autoplay"></iframe>
            </td>
            <td rowspan=2 class="queue">
                <h2 class="header">
                    Queue
                </h2>
            </td>
        </tr>
        <tr class="video-information">
            <td>
                <h2>Series - Episode</h2>
                <table>
                    <tr>
                        <th>
                            Series
                        </th>
                        <td>
                            Inazuma Eleven
                        </td>
                    </tr>
                    <tr>
                        <th>
                            Season
                        </th>
                        <td>
                            2 - Alius Academy
                        </td>
                    </tr>
                    <tr>
                        <th>
                            Episode
                        </th>
                        <td>
                            1 - De Aliens vallen aan!
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>

    <div class="add-content" hidden>
        <form>
            <table>
                <tr>
                    <td>
                        <label>User</label>
                    </td>
                    <td>
                        <input type="text" id="user">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>FolderType</label>
                    </td>
                    <td>
                        <input type="text" id="folderType">
                    </td>
                </tr>
                <tr>
                    <td>
                        <label>Name</label>
                    </td>
                    <td>
                        <input type="text" id="name">
                    </td>
                </tr>
            </table>
            <!-- set button onClick method to call function we defined passing input values as parameters -->
            <button type="button" onclick="callAPI(
                document.getElementById('user').value,
                document.getElementById('folderType').value,
                document.getElementById('name').value)">
                Insert into DB
            </button>
        </form>
    </div>
    <div class="footer">
        (C) Jasper Wijnhoven 2023
    </div>
</body>

</html>